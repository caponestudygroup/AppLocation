<h1>Locations Listings</h1>

<table>
  <% @locations.each do |location| %>
    <% #cycle() toggles class of each row to 'even' and 'odd' %>
    <tr class="<%= cycle('list_line_odd', 'list_line_even') %>">
      <td class="image_td">
        <%= image_tag(location.image_url, class: 'list_image') %>
      </td>
      <td class="list_line">
        <h2><%= location.title %></h2>
        <p><%= location.address1 %> <span><%= location.address2 %>, </span>
          <span><%= location.city %>, </span><span><%= location.state %></span><span><%= location.zip %></span>
        </p>
        <% #truncate() is used to display only 80 chars. strip_tags removes embedded html %>
        <p><%= truncate(strip_tags(location.description), length: 80) %></p>
      </td>
      <td class="list_actions">
        <%= link_to 'Show', location %><br />
        <%= link_to 'Edit', edit_location_path(location) %><br />
        <%= link_to 'Destroy', location, method: :delete, data: { confirm: 'Are you sure?' } %>
      </td>
    </tr>
  <% end %>
</table>

<br>

<%= link_to 'New Location', new_location_path %>
